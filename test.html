<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Better TA ‚Äî Frontend</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Client-side QR fallback -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"
          integrity="sha512-M6xE6V2P8lM2rQ+6OQ8f7j4NV8Ywz4M1u9p0b0j5xHjWmFzM1HqQ9bJzvH1Xl3m9S8c9E8mZ3Pz1dQWur0N6EA=="
          crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-100 text-gray-800">
  <div class="min-h-screen flex">
    <!-- Sidebar -->
    <aside class="w-64 bg-white shadow-lg">
      <div class="p-6 border-b">
        <h1 class="text-2xl font-bold">TA System</h1>
      </div>
      <nav class="p-2 space-y-1">
        <button data-page="dashboard" class="w-full text-left px-4 py-3 rounded hover:bg-blue-50 aria-selected:bg-blue-100" aria-selected="true">üè† Dashboard</button>
        <button data-page="courses"   class="w-full text-left px-4 py-3 rounded hover:bg-blue-50">üìö Courses</button>
        <button data-page="qr"        class="w-full text-left px-4 py-3 rounded hover:bg-blue-50">üì± Generate QR</button>
        <button data-page="ai-verification" class="w-full text-left px-4 py-3 rounded hover:bg-blue-50">ü§ñ AI Verification</button>
      </nav>
    </aside>

    <!-- Main -->
    <main class="flex-1 p-6 space-y-6">
      <!-- Header -->
      <header class="flex items-center justify-between">
        <div class="flex items-center gap-2 bg-white rounded px-3 py-2 shadow-sm w-full max-w-md">
          <span>üîç</span>
          <input type="text" placeholder="Search courses, students..." class="w-full outline-none" />
        </div>
        <div class="text-sm text-gray-600">TA: Professor Smith</div>
      </header>

      <!-- DASHBOARD -->
      <section id="page-dashboard" class="space-y-6">
        <div>
          <h2 class="text-2xl font-semibold">TA Dashboard</h2>
          <p class="text-gray-600">Manage courses and track student submissions.</p>
        </div>

        <div class="grid sm:grid-cols-3 gap-4">
          <div class="bg-white rounded-xl p-5 shadow">
            <div class="text-3xl font-bold" id="card-active-courses">2</div>
            <div class="text-gray-500">Active Courses</div>
          </div>
          <div class="bg-white rounded-xl p-5 shadow">
            <div class="text-3xl font-bold" id="card-total-students">73</div>
            <div class="text-gray-500">Total Students</div>
          </div>
          <div class="bg-white rounded-xl p-5 shadow">
            <div class="text-3xl font-bold" id="card-avg-attendance">89%</div>
            <div class="text-gray-500">Avg. Attendance</div>
          </div>
        </div>

        <div class="grid md:grid-cols-3 gap-4">
          <button class="dashboard-card" data-link="courses">
            <h3 class="font-semibold">Course Management</h3>
            <p class="text-sm text-gray-600 mt-1">View courses, track submissions, monitor progress.</p>
          </button>

          <button class="dashboard-card" data-link="course:data-structures">
            <h3 class="font-semibold">Data Structures</h3>
            <p class="text-sm text-gray-600">Week 1 ‚Äî 38 students</p>
            <p class="text-sm mt-1"><span class="status-badge submitted">32 submitted</span></p>
          </button>

          <button class="dashboard-card" data-link="course:algorithms">
            <h3 class="font-semibold">Algorithms</h3>
            <p class="text-sm text-gray-600">Lab 1 ‚Äî 42 students</p>
            <p class="text-sm mt-1"><span class="status-badge submitted">38 submitted</span></p>
          </button>
        </div>
      </section>

      <!-- COURSES -->
      <section id="page-courses" class="hidden space-y-4">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl font-semibold">My Courses</h2>
          <button class="back-button" data-back="dashboard">‚Üê Back</button>
        </div>

        <div class="bg-white rounded-xl shadow">
          <div class="overflow-x-auto">
            <table class="min-w-full text-left">
              <thead class="bg-gray-50 text-gray-600 text-sm">
                <tr>
                  <th class="p-3">Course Name</th>
                  <th class="p-3">Students</th>
                  <th class="p-3">Submissions</th>
                  <th class="p-3">AI Verified</th>
                  <th class="p-3">Actions</th>
                </tr>
              </thead>
              <tbody class="text-sm">
                <tr class="course-row" data-course="data-structures">
                  <td class="p-3">Data Structures ‚Äî Week 1</td>
                  <td class="p-3">38</td>
                  <td class="p-3"><span class="status-badge info">32 submitted</span></td>
                  <td class="p-3"><span class="status-badge submitted">28 verified</span></td>
                  <td class="p-3"><button class="action-button">View Details</button></td>
                </tr>
                <tr class="course-row" data-course="algorithms">
                  <td class="p-3">Algorithms ‚Äî Lab 1</td>
                  <td class="p-3">42</td>
                  <td class="p-3"><span class="status-badge info">38 submitted</span></td>
                  <td class="p-3"><span class="status-badge submitted">35 verified</span></td>
                  <td class="p-3"><button class="action-button">View Details</button></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- COURSE DETAIL -->
      <section id="page-course" class="hidden space-y-4">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl font-semibold" id="course-title">Course Details</h2>
          <button class="back-button" data-back="courses">‚Üê Back</button>
        </div>

        <div class="grid sm:grid-cols-4 gap-4">
          <div class="stat-card">
            <div class="text-3xl font-bold" id="total-students">0</div>
            <div class="text-gray-500">Total Students</div>
          </div>
          <div class="stat-card">
            <div class="text-3xl font-bold" id="submissions">0</div>
            <div class="text-gray-500">Submissions</div>
          </div>
          <div class="stat-card">
            <div class="text-3xl font-bold" id="pending">0</div>
            <div class="text-gray-500">Pending</div>
          </div>
          <div class="stat-card">
            <div class="text-3xl font-bold" id="ai-verified">0</div>
            <div class="text-gray-500">AI Verified</div>
          </div>
        </div>

        <div class="bg-white rounded-xl shadow">
          <div class="p-4 border-b flex justify-between items-center">
            <h3 class="font-semibold">Student Submissions</h3>
            <div class="flex space-x-2">
              <select id="verification-filter" class="filter-select">
                <option value="all">All Submissions</option>
                <option value="verified">AI Verified</option>
                <option value="not-verified">Not Verified</option>
                <option value="flagged">Flagged</option>
              </select>
              <input type="text" placeholder="Search students..." class="filter-input" id="student-search">
            </div>
          </div>
          <div class="overflow-x-auto">
            <table class="min-w-full text-left" id="students-table">
              <thead class="bg-gray-50 text-gray-600 text-sm">
                <tr>
                  <th class="p-3">Student Name</th>
                  <th class="p-3">Status</th>
                  <th class="p-3">Submission Date</th>
                  <th class="p-3">AI Verification</th>
                  <th class="p-3">Confidence</th>
                  <th class="p-3">AI Comment</th>
                  <th class="p-3">Actions</th>
                </tr>
              </thead>
              <tbody id="students-list" class="text-sm">
                <!-- populated by JS -->
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- QR PAGE -->
      <section id="page-qr" class="hidden space-y-4">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl font-semibold">Generate QR Code for Attendance</h2>
          <button class="back-button" data-back="dashboard">‚Üê Back</button>
        </div>

        <div class="bg-white rounded-xl p-5 shadow space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Select Course</label>
            <select id="qr-course-select" class="w-full max-w-md border rounded px-3 py-2">
              <option value="data-structures">Data Structures ‚Äî Week 1</option>
              <option value="algorithms">Algorithms ‚Äî Lab 1</option>
            </select>
          </div>

          <div class="text-center">
            <h3 class="font-semibold mb-2">Attendance QR Code</h3>
            <p class="text-sm text-gray-600">Students can scan this to submit attendance.</p>
            <div id="qr-code-display" class="qr-placeholder">
              QR Code will appear here
            </div>
            <button id="qr-generate-btn" class="qr-generate-button">
              Generate QR Code
            </button>

            <p id="qr-hint" class="qr-hint"></p>
          </div>
        </div>
      </section>

      <!-- AI VERIFICATION PAGE -->
      <section id="page-ai-verification" class="hidden space-y-4">
        <div class="flex items-center justify-between">
          <h2 class="text-2xl font-semibold">AI Verification Results</h2>
          <button class="back-button" data-back="dashboard">‚Üê Back</button>
        </div>

        <div class="grid sm:grid-cols-3 gap-4">
          <div class="stat-card">
            <div class="text-3xl font-bold" id="ai-total-verified">63</div>
            <div class="text-gray-500">AI Verified</div>
          </div>
          <div class="stat-card">
            <div class="text-3xl font-bold" id="ai-flagged">4</div>
            <div class="text-gray-500">Flagged for Review</div>
          </div>
          <div class="stat-card">
            <div class="text-3xl font-bold" id="ai-avg-confidence">92%</div>
            <div class="text-gray-500">Avg Confidence</div>
          </div>
        </div>

        <div class="bg-white rounded-xl shadow">
          <div class="p-4 border-b flex justify-between items-center">
            <h3 class="font-semibold">All Submissions</h3>
            <div class="flex space-x-2">
              <select id="ai-course-filter" class="filter-select">
                <option value="all">All Courses</option>
                <option value="data-structures">Data Structures</option>
                <option value="algorithms">Algorithms</option>
              </select>
              <select id="ai-confidence-filter" class="filter-select">
                <option value="all">All Confidence</option>
                <option value="high">High (90-100%)</option>
                <option value="medium">Medium (70-89%)</option>
                <option value="low">Low (0-69%)</option>
              </select>
              <input type="text" placeholder="Search students..." class="filter-input" id="ai-student-search">
            </div>
          </div>
          <div class="overflow-x-auto">
            <table class="min-w-full text-left">
              <thead class="bg-gray-50 text-gray-600 text-sm">
                <tr>
                  <th class="p-3">Student Name</th>
                  <th class="p-3">Course</th>
                  <th class="p-3">AI Verification</th>
                  <th class="p-3">Confidence</th>
                  <th class="p-3">AI Comment</th>
                  <th class="p-3">Status</th>
                  <th class="p-3">Actions</th>
                </tr>
              </thead>
              <tbody id="ai-verification-list" class="text-sm">
                <!-- populated by JS -->
              </tbody>
            </table>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- JavaScript -->
  <script src="script.js"></script>
</body>
</html>
{% load static %}
<!doctype html>
<html lang="en" class="h-full">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sign Up</title>

  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['"Open Sauce Sans"', 'system-ui', '-apple-system', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial'],
          },
          colors: {
            // optional subtle custom neutrals if needed
          }
        },
      },
    }
  </script>

  <!-- Local font -->
  <link rel="preload" href="{% static 'font/OpenSauceSans-Regular.ttf' %}" as="font" type="font/ttf" crossorigin>
  <link rel="stylesheet" href="{% static 'auth/global/signup/signup.css' %}">
  <!-- Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:FILL@0..1" />
</head>
<body class="h-full bg-gradient-to-b from-neutral-200 to-neutral-400 font-sans">
  <main class="h-full flex items-center justify-center p-6">
    <section class="w-full max-w-md bg-white/80 backdrop-blur rounded-lg border border-neutral-200 shadow-sm">
      <div class="p-6">
        <h1 class="text-xl font-semibold text-neutral-900">Create your account</h1>
        <p class="mt-1 text-sm text-neutral-700">Choose your role to continue</p>

        <div class="mt-5">
          <label class="text-sm text-neutral-700" for="roleSelect">I am a</label>
          <div class="relative mt-2">
            <select id="roleSelect" class="w-full appearance-none rounded-md border border-neutral-300 bg-white px-3 py-2 text-neutral-900 focus:outline-none focus:ring-2 focus:ring-neutral-400">
              <option value="" selected disabled>Select a role</option>
              <option value="teacher">Teacher</option>
              <option value="ta">Teacher’s Assistant</option>
              <option value="student">Student</option>
            </select>
            <span class="material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-neutral-500">expand_more</span>
          </div>
        </div>

        <button id="continueBtn" class="mt-6 w-full rounded-md bg-neutral-900 text-white px-4 py-2.5 disabled:opacity-50 disabled:cursor-not-allowed transition-colors hover:bg-black" disabled>
          Continue
        </button>

        <p id="hint" class="mt-3 text-xs text-neutral-600">You can also press Enter after selecting a role.</p>
      </div>
    </section>
  </main>

  <!-- Inline script ensures redirect works even if static JS isn’t loaded -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const roleSelect = document.getElementById('roleSelect');
      const continueBtn = document.getElementById('continueBtn');

      const routes = {
        teacher: '/auth/teachers/signup/',
        ta: '/auth/teachers_assistants/signup/',
        student: '/auth/students/signup/',
      };

      function enableIfRole() {
        continueBtn.disabled = !roleSelect.value;
      }

      roleSelect.addEventListener('change', enableIfRole);

      continueBtn.addEventListener('click', () => {
        const role = roleSelect.value;
        if (!role || !routes[role]) return;
        window.location.href = routes[role];
      });

      // Allow Enter key to continue
      roleSelect.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && roleSelect.value && routes[roleSelect.value]) {
          window.location.href = routes[roleSelect.value];
        }
      });
    });
  </script>

  <!-- External JS (optional, kept for future enhancements) -->
  <script src="{% static 'auth/global/signup/signup.js' %}"></script>
</body>
</html>